"use strict"
/*!
 * css-var-polyfill.js - v1.1.2
 *
 * Copyright (c) 2019 Aaron Barker <http://aaronbarker.net>
 * Released under the MIT license
 *
 * Date: 2019-03-23
 */
var cssVarPoly={init:function(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--foo: red)")?void console.log("your browser supports CSS variables, aborting and letting the native support handle things."):(console.log("no support for you! polyfill all (some of) the things!!"),document.querySelector("body").classList.add("cssvars-polyfilled"),cssVarPoly.ratifiedVars={},cssVarPoly.varsByBlock={},cssVarPoly.oldCSS={},cssVarPoly.findCSS(),void cssVarPoly.updateCSS())},findCSS:function(){var e=document.querySelectorAll('style:not(.inserted),link[rel="stylesheet"],link[rel="import"]'),r=1;[].forEach.call(e,function(e){var s
"STYLE"===e.nodeName?(s=e.innerHTML,cssVarPoly.findSetters(s,r)):"LINK"===e.nodeName&&(cssVarPoly.getLink(e.getAttribute("href"),r,function(e,r){cssVarPoly.findSetters(r.responseText,e),cssVarPoly.oldCSS[e]=r.responseText,cssVarPoly.updateCSS()}),s=""),cssVarPoly.oldCSS[r]=s,r++})},findSetters:function(e,r){cssVarPoly.varsByBlock[r]=e.match(/(--[^:)]+:[\s]*[^;}]+)/g)||[]},updateCSS:function(){cssVarPoly.ratifySetters(cssVarPoly.varsByBlock)
for(var e in cssVarPoly.oldCSS){var r=cssVarPoly.replaceGetters(cssVarPoly.oldCSS[e],cssVarPoly.ratifiedVars)
if(document.querySelector("#inserted"+e))document.querySelector("#inserted"+e).innerHTML=r
else{var s=document.createElement("style")
s.type="text/css",s.innerHTML=r,s.classList.add("inserted"),s.id="inserted"+e,document.getElementsByTagName("head")[0].appendChild(s)}}},replaceGetters:function(e,r){for(var s in r){var t=RegExp("var\\(\\s*"+s+"\\s*\\)","g")
e=e.replace(t,r[s])
var o=RegExp("var\\([^\\)]+,\\s*([^\\)]+)\\)","g"),n=e.match(o)
n&&n.forEach(function(r){e=e.replace(r,r.match(/var\([^\)]+,\s*([^\)]+)\)/)[1])})}return e},ratifySetters:function(e){for(var r in e){var s=e[r]
s.forEach(function(e){var r=e.split(/:\s*/)
cssVarPoly.ratifiedVars[r[0]]=r[1].replace(/;/,"")})}},getLink:function(e,r,s){var t=new XMLHttpRequest
t.open("GET",e,!0),t.overrideMimeType("text/css;"),t.onload=function(){t.status>=200&&t.status<400?"function"==typeof s&&s(r,t):console.warn("an error was returned from:",e)},t.onerror=function(){console.warn("we could not get anything from:",e)},t.send()}}
cssVarPoly.init()
